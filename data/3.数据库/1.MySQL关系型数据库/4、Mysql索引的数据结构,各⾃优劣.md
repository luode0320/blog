### Mysql索引的数据结构，各⾃优劣

InnoDB存储引擎的默认索引实现为：**B+树索引**。

### B-Tree 索引

#### 数据结构

- **B-Tree** 是一种自平衡的树数据结构，其中每个节点可以拥有多个子节点，并且所有的叶子节点都在同一层次。
- **B+Tree** 是B-Tree的一个变种，在MySQL中广泛使用，尤其是InnoDB存储引擎。B+Tree的特点是所有的键值都在叶子节点中出现，并且叶子节点之间有链接（相邻节点之间有指针相互连接）。

#### 优点

- **查询效率高**：B+Tree的键值是有序的，适合范围查询和排序。
- **缓存友好**：由于B+Tree的高度较低，更多的节点可以被加载到缓存中，提高了查询性能。
- **易于维护**：插入、删除和查找操作都非常高效。

#### 缺点

- **存储空间**：对于非聚簇索引，每个索引条目需要存储指向实际数据行的指针，这可能会占用更多的空间。
- **写入性能**：虽然插入操作较快，但是在大量并发插入时，维护B+Tree的平衡可能会消耗较多资源。

### 普通二叉树

- 普通二叉树在数据很多的情况下,,树的高度是很高的, 而且它还不会平衡节点

- 如果123456这样按照顺序添加,1永远是跟节点,依次增加就之后在树的右边加

- 1
    - 2
    - 3
        - 4
            - 5

### 红黑树

- 红黑树也可以查询很快,但是红黑树也是一棵二叉树, 在数据很多的情况下,,树的高度是很高的

#### 优点

- 对于应用系统来说, 它用来存储少部分到内存, 进行数据检索是有效的

#### 缺点

- 对于数据库几百万上千万的数据, 文件系统上亿的数据来说, 就不合适了 ,树的高度是很高的, 也不用来做索引

### 哈希索引

- 哈希索引就是采⽤⼀定的`哈希算法`，把键值换算成新的哈希值

#### 优点

- 检索时不需要类似B+树那样从根节点到叶⼦节点逐级查找，只需⼀次哈希算法即可⽴刻定位到相应的位置，速度⾮常快 
- 如果是`等值查询`，那么哈希索引明显有绝对优势，因为只需要**经过⼀次算法**即可找到相应的键值；

#### 缺点

- **如果是范围查询检索，这时候哈希索引就毫⽆⽤武之地了**，因为原先是有序的键值，经过哈希算法后，有可能变成不连续的了，就`没办法`再利⽤索引完成`范围查询`检索；
- 哈希索引也没办法利⽤索引完成排序，以及like ‘xxx%’ 这样的部分模糊查询（这种部分模糊查询，其实本质上也是范围查询）； 
- 在有⼤量重复键值情况下，哈希索引的效率也是极低的，因为存在哈希碰撞问题。 

