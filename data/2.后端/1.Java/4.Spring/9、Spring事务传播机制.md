# Spring事务传播机制

> 多个事务⽅法相互调⽤时，事务如何在这些⽅法间传播

- ⽅法A是⼀个事务的⽅法，⽅法A执⾏过程中调⽤了⽅法B
- 那么事务该如何传播?

- `REQUIRED`(Spring默认的事务传播类型-required)：当前**存在事务，则加⼊这个事务** ，当前**没有事务，则新建事务**
  - REQUIRED适合出现任何异常都回滚到最初状态,因为只有一个事务提交

- `REQUIRES_NEW`：**新建事务**，当前**存在事务，则挂起该事务**
  - REQUIRES_NEW适合给相互调用但是实际上需求互不影响的事务

- `SUPPORTS`(supports)：当前**存在事务，则加⼊事务**，当前**没有事务，就不使⽤事务**

- `NOT_SUPPORTED`：**不使⽤事务**,当前**存在事务，则挂起当前事务** 
- `MANDATORY`(mandatory)：当前**存在事务，则加⼊当前事务**，当前**事务不存在，则抛出异常**
  - MANDATORY强制使用事务的
- `NEVER`(never)：**不使⽤事务**，**当前事务存在，则抛出异常** 
  - NEVER一点事务都不允许使用
- `NESTED`(nested)：当前**事务存在，则在嵌套事务中执⾏**，当前**没有事务，则⾃⼰新建⼀个事务**

**具体使用还是要琢磨一下的**

**默认使用REQUIRED，想互不影响就用REQUIRES_NEW**

