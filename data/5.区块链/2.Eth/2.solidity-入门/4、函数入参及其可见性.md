## é¡¹ç›®æºç 

[https://github.com/luode0320/solidity-demo](https://github.com/luode0320/solidity-demo)

## å‡½æ•°

Solidityè¯­è¨€çš„å‡½æ•°éå¸¸çµæ´»ï¼Œå¯ä»¥è¿›è¡Œå„ç§å¤æ‚æ“ä½œã€‚åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä¼šæ¦‚è¿°å‡½æ•°çš„åŸºç¡€æ¦‚å¿µï¼Œå¹¶é€šè¿‡ä¸€äº›ç¤ºä¾‹æ¼”ç¤ºå¦‚ä½•ä½¿ç”¨å‡½æ•°ã€‚

## è¯­æ³•

æˆ‘ä»¬å…ˆçœ‹ä¸€ä¸‹ Solidity ä¸­å‡½æ•°çš„å½¢å¼:

```solidity
function <function name>(<types parameter>) {internal|external|public|private} [pure|view|payable] [returns (<return types>)]
```

## è§£é‡Š

è®©æˆ‘ä»¬ä»å‰å¾€åé€ä¸ªè§£é‡Š(æ–¹æ‹¬å·ä¸­çš„æ˜¯å¯å†™å¯ä¸å†™çš„å…³é”®å­—)ï¼š

1. `function`ï¼šå£°æ˜å‡½æ•°æ—¶çš„å›ºå®šç”¨æ³•ã€‚è¦ç¼–å†™å‡½æ•°ï¼Œå°±éœ€è¦ä»¥ `function` å…³é”®å­—å¼€å¤´ã€‚

2. `<function name>`ï¼šå‡½æ•°åã€‚

3. `(<parameter types>)`ï¼šåœ†æ‹¬å·å†…å†™å…¥å‡½æ•°çš„å‚æ•°ï¼Œå³è¾“å…¥åˆ°å‡½æ•°çš„ å˜é‡ç±»å‹ å’Œ åç§° ã€‚

4. `{internal|external|public|private}`ï¼šå‡½æ•°å¯è§æ€§è¯´æ˜ç¬¦ï¼Œå…±æœ‰4ç§ã€‚

    - `public`ï¼šå†…éƒ¨å’Œå¤–éƒ¨å‡å¯è§ã€‚
    - `private`ï¼šåªèƒ½ä»æœ¬åˆçº¦å†…éƒ¨è®¿é—®ï¼Œç»§æ‰¿çš„åˆçº¦ä¹Ÿä¸èƒ½ä½¿ç”¨ã€‚
    - `external`ï¼šåªèƒ½ä»åˆçº¦å¤–éƒ¨è®¿é—®ï¼ˆä½†å†…éƒ¨å¯ä»¥é€šè¿‡ `this.f()` æ¥è°ƒç”¨ï¼Œ`f`æ˜¯å‡½æ•°åï¼‰ã€‚
    - `internal`: åªèƒ½ä»åˆçº¦å†…éƒ¨è®¿é—®ï¼Œç»§æ‰¿çš„åˆçº¦å¯ä»¥ç”¨ã€‚

   **æ³¨æ„ 1**ï¼šåˆçº¦ä¸­å®šä¹‰çš„å‡½æ•°éœ€è¦æ˜ç¡®æŒ‡å®šå¯è§æ€§ï¼Œå®ƒä»¬æ²¡æœ‰é»˜è®¤å€¼ã€‚

   **æ³¨æ„ 2**ï¼š`public|private|internal` ä¹Ÿå¯ç”¨äºä¿®é¥°çŠ¶æ€å˜é‡ã€‚`public`å˜é‡ä¼šè‡ªåŠ¨ç”ŸæˆåŒåçš„`getter`
   å‡½æ•°ï¼Œç”¨äºæŸ¥è¯¢æ•°å€¼ã€‚æœªæ ‡æ˜å¯è§æ€§ç±»å‹çš„çŠ¶æ€å˜é‡ï¼Œé»˜è®¤ä¸º`internal`ã€‚

5. `[pure|view|payable]`ï¼šå†³å®šå‡½æ•°æƒé™/åŠŸèƒ½çš„å…³é”®å­—ã€‚`payable`ï¼ˆå¯æ”¯ä»˜çš„ï¼‰å¾ˆå¥½ç†è§£ï¼Œå¸¦ç€å®ƒçš„å‡½æ•°ï¼Œè¿è¡Œçš„æ—¶å€™å¯ä»¥ç»™åˆçº¦è½¬å…¥
   ETHã€‚`pure` å’Œ `view` çš„ä»‹ç»è§ä¸‹ä¸€èŠ‚ã€‚

6. `[returns ()]`ï¼šå‡½æ•°è¿”å›çš„å˜é‡ç±»å‹å’Œåç§°ã€‚

## åˆ°åº•ä»€ä¹ˆæ˜¯ `Pure` å’Œ`View`ï¼Ÿ

åˆšå¼€å§‹å­¦ä¹  `solidity` æ—¶ï¼Œ`pure` å’Œ `view` å…³é”®å­—å¯èƒ½ä»¤äººè´¹è§£ï¼Œå› ä¸ºå…¶ä»–ç¼–ç¨‹è¯­è¨€ä¸­æ²¡æœ‰ç±»ä¼¼çš„å…³é”®å­—ã€‚

- `solidity` å¼•å…¥è¿™ä¸¤ä¸ªå…³é”®å­—ä¸»è¦æ˜¯å› ä¸º ä»¥å¤ªåŠäº¤æ˜“éœ€è¦æ”¯ä»˜æ±½æ²¹è´¹ï¼ˆgas feeï¼‰ã€‚
- åˆçº¦çš„çŠ¶æ€å˜é‡å­˜å‚¨åœ¨é“¾ä¸Šï¼Œgas fee å¾ˆè´µï¼Œå¦‚æœè®¡ç®—ä¸æ”¹å˜é“¾ä¸ŠçŠ¶æ€ï¼Œå°±å¯ä»¥ä¸ç”¨ä»˜ `gas`ã€‚
- åŒ…å« `pure` å’Œ `view` å…³é”®å­—çš„å‡½æ•°æ˜¯ä¸æ”¹å†™é“¾ä¸ŠçŠ¶æ€çš„ï¼Œå› æ­¤ç”¨æˆ·ç›´æ¥è°ƒç”¨å®ƒä»¬æ˜¯ä¸éœ€è¦ä»˜ gas çš„
- ï¼ˆæ³¨æ„ï¼Œåˆçº¦ä¸­é `pure`/`view` å‡½æ•°è°ƒç”¨ `pure`/`view` å‡½æ•°æ—¶éœ€è¦ä»˜gasï¼‰ã€‚

åœ¨ä»¥å¤ªåŠä¸­ï¼Œä»¥ä¸‹è¯­å¥è¢«è§†ä¸ºä¿®æ”¹é“¾ä¸ŠçŠ¶æ€ï¼š

1. å†™å…¥çŠ¶æ€å˜é‡ã€‚
2. é‡Šæ”¾äº‹ä»¶ã€‚
3. åˆ›å»ºå…¶ä»–åˆçº¦ã€‚
4. ä½¿ç”¨ `selfdestruct`ã€‚
5. é€šè¿‡è°ƒç”¨å‘é€ä»¥å¤ªå¸ã€‚
6. è°ƒç”¨ä»»ä½•æœªæ ‡è®° `view` æˆ– `pure` çš„å‡½æ•°ã€‚
7. ä½¿ç”¨ä½çº§è°ƒç”¨ï¼ˆlow-level callsï¼‰ã€‚
8. ä½¿ç”¨åŒ…å«æŸäº›æ“ä½œç çš„å†…è”æ±‡ç¼–ã€‚

ä¸ºäº†å¸®åŠ©å¤§å®¶ç†è§£ï¼Œæˆ‘ç”»äº†ä¸€ä¸ªé©¬é‡Œå¥¥æ’å›¾ã€‚åœ¨è¿™å¹…æ’å›¾ä¸­ï¼Œæˆ‘å°†åˆçº¦ä¸­çš„çŠ¶æ€å˜é‡ï¼ˆå­˜å‚¨åœ¨é“¾ä¸Šï¼‰æ¯”ä½œç¢§çªå…¬ä¸»ï¼Œä¸‰ç§ä¸åŒçš„è§’è‰²ä»£è¡¨ä¸åŒçš„å…³é”®å­—ã€‚

![image-20240814021639934](../../../picture/1B9kHsTYnDY_QURSWMmPb.png)

- `pure`ï¼Œä¸­æ–‡æ„æ€æ˜¯â€œçº¯â€ï¼Œè¿™é‡Œå¯ä»¥ç†è§£ä¸ºâ€çº¯æ‰“é…±æ²¹çš„â€ã€‚`pure` å‡½æ•°æ—¢ä¸èƒ½è¯»å–ä¹Ÿä¸èƒ½å†™å…¥é“¾ä¸Šçš„çŠ¶æ€å˜é‡ã€‚å°±åƒå°æ€ªä¸€æ ·ï¼Œçœ‹ä¸åˆ°ä¹Ÿæ‘¸ä¸åˆ°ç¢§çªå…¬ä¸»ã€‚
- `view`ï¼Œâ€œçœ‹â€ï¼Œè¿™é‡Œå¯ä»¥ç†è§£ä¸ºâ€œçœ‹å®¢â€ã€‚`view`å‡½æ•°èƒ½è¯»å–ä½†ä¹Ÿä¸èƒ½å†™å…¥çŠ¶æ€å˜é‡ã€‚ç±»ä¼¼é©¬é‡Œå¥¥ï¼Œèƒ½çœ‹åˆ°ç¢§çªå…¬ä¸»ï¼Œä½†ç»ˆç©¶æ˜¯çœ‹å®¢ï¼Œä¸èƒ½å…¥æ´æˆ¿ã€‚
- é `pure` æˆ– `view` çš„å‡½æ•°æ—¢å¯ä»¥è¯»å–ä¹Ÿå¯ä»¥å†™å…¥çŠ¶æ€å˜é‡ã€‚ç±»ä¼¼é©¬é‡Œå¥¥é‡Œçš„ `boss`ï¼Œå¯ä»¥å¯¹ç¢§çªå…¬ä¸»ä¸ºæ‰€æ¬²ä¸ºğŸ¶ã€‚

## 1.pure å’Œ view

æˆ‘ä»¬åœ¨åˆçº¦é‡Œå®šä¹‰ä¸€ä¸ªçŠ¶æ€å˜é‡ `number`ï¼Œåˆå§‹åŒ–ä¸º 5ã€‚

```solidity
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.21;
contract FunctionTypes{
    uint256 public number = 5;
}
```

å®šä¹‰ä¸€ä¸ª `add()` å‡½æ•°ï¼Œæ¯æ¬¡è°ƒç”¨ä¼šè®© `number` å¢åŠ  1ã€‚

```solidity\
// é»˜è®¤function
function add() external {
    number = number + 1;
}
```

å¦‚æœ `add()` å‡½æ•°è¢«æ ‡è®°ä¸º `pure`ï¼Œæ¯”å¦‚ `function add() external pure`ï¼Œå°±ä¼šæŠ¥é”™ã€‚

å› ä¸º `pure` æ˜¯ä¸é…è¯»å–åˆçº¦é‡Œçš„çŠ¶æ€å˜é‡çš„ï¼Œæ›´ä¸é…æ”¹å†™ã€‚

é‚£ `pure` å‡½æ•°èƒ½åšäº›ä»€ä¹ˆï¼Ÿä¸¾ä¸ªä¾‹å­ï¼Œä½ å¯ä»¥ç»™å‡½æ•°ä¼ é€’ä¸€ä¸ªå‚æ•° `_number`ï¼Œç„¶åè®©ä»–è¿”å› `_number + 1`ï¼Œè¿™ä¸ªæ“ä½œä¸ä¼šè¯»å–æˆ–å†™å…¥çŠ¶æ€å˜é‡ã€‚

```solidity
// pure: çº¯çº¯ç‰›é©¬, åŸºæœ¬ä¸Šå’Œåˆçº¦æ²¡æœ‰ä¸€æ¯›é’±å…³ç³», ä»»ä½•ä¸€ä¸ªåˆçº¦æŠŠè¿™ä¸ªä»£ç æ”¾è¿›å»éƒ½èƒ½ç”¨ã€‚
function addPure(uint256 _number) external pure returns(uint256 new_number){
    new_number = _number + 1;
}
```

å¦‚æœ `add()` å‡½æ•°è¢«æ ‡è®°ä¸º `view`ï¼Œæ¯”å¦‚ `function add() external view`ï¼Œä¹Ÿä¼šæŠ¥é”™ã€‚

å› ä¸º `view` èƒ½è¯»å–ï¼Œä½†ä¸èƒ½å¤Ÿæ”¹å†™çŠ¶æ€å˜é‡ã€‚æˆ‘ä»¬å¯ä»¥ç¨å¾®æ”¹å†™ä¸‹å‡½æ•°ï¼Œè¯»å–ä½†æ˜¯ä¸æ”¹å†™ `number`ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„å˜é‡ã€‚

```solidity
// view: çœ‹å®¢
function addView() external view returns(uint256 new_number) {
    new_number = number + 1;
}
```

## 2.internal v.s. external

```solidity
// internal: åªèƒ½ä»åˆçº¦å†…éƒ¨è®¿é—®ï¼Œç»§æ‰¿çš„åˆçº¦å¯ä»¥ç”¨ã€‚
function minus() internal {
    number = number - 1;
}

// åªèƒ½ä»åˆçº¦å¤–éƒ¨è®¿é—®ï¼ˆä½†å†…éƒ¨å¯ä»¥é€šè¿‡ `this.f()` æ¥è°ƒç”¨ï¼Œ`f`æ˜¯å‡½æ•°åï¼‰ã€‚
function minusCall() external {
    minus();
}
```

æˆ‘ä»¬å®šä¹‰ä¸€ä¸ª `internal` çš„ `minus()` å‡½æ•°ï¼Œæ¯æ¬¡è°ƒç”¨ä½¿å¾— `number` å˜é‡å‡å°‘ 1ã€‚

ç”±äº `internal` å‡½æ•°åªèƒ½ç”±åˆçº¦å†…éƒ¨è°ƒç”¨ï¼Œæˆ‘ä»¬å¿…é¡»å†å®šä¹‰ä¸€ä¸ª `external` çš„ `minusCall()`
å‡½æ•°ï¼Œå¤–éƒ¨å¯ä»¥é€šè¿‡å®ƒé—´æ¥è°ƒç”¨å†…éƒ¨çš„ `minus()` å‡½æ•°ã€‚

## 3.payable

```solidity
// payable: é€’é’±ï¼Œèƒ½ç»™åˆçº¦æ”¯ä»˜ethçš„å‡½æ•°
function minusPayable() external payable returns(uint256 balance) {
    minus();    
    balance = address(this).balance;
}
```

æˆ‘ä»¬å®šä¹‰ä¸€ä¸ª `external payable` çš„ `minusPayable()` å‡½æ•°ï¼Œé—´æ¥çš„è°ƒç”¨ `minus()`ï¼Œå¹¶ä¸”è¿”å›åˆçº¦é‡Œçš„ ETH ä½™é¢ï¼ˆ`this`
å…³é”®å­—å¯ä»¥è®©æˆ‘ä»¬å¼•ç”¨åˆçº¦åœ°å€ï¼‰ã€‚

- æˆ‘ä»¬å¯ä»¥åœ¨è°ƒç”¨ `minusPayable()` æ—¶å¾€åˆçº¦é‡Œè½¬å…¥1ä¸ª ETH
- è™½ç„¶æˆ‘ä»¬æ²¡æœ‰æ˜¾ç¤ºä¼ é€’ä¸€ä¸ªæ¥æ”¶ ETH çš„å‚æ•°, ä½†æ˜¯åªè¦æœ‰ `payable`, é»˜è®¤è½¬å…¥1ä¸ª ETHå°±ä¼šè¢«åˆçº¦æœ¬èº«æ¥å—

## å®Œæ•´ä»£ç 

```solidity
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.21;

contract FunctionTypes {
    // public: å¯ä»¥ä»å¤–éƒ¨å’Œå†…éƒ¨è®¿é—®, è‡ªå¸¦ä¸€ä¸ªgetæ–¹æ³•
    uint256 public number = 5;

    // payable: å¯ä»¥æ¥å— ETH åˆ°åˆçº¦
    constructor() payable {}

    // external: åªèƒ½ä»åˆçº¦å¤–éƒ¨è®¿é—®ï¼ˆä½†å†…éƒ¨å¯ä»¥é€šè¿‡ `this.f()` æ¥è°ƒç”¨ï¼Œ`f`æ˜¯å‡½æ•°åï¼‰ã€‚
    function add() external {
        number = number + 1;
    }

    // external: åªèƒ½ä»åˆçº¦å¤–éƒ¨è®¿é—®ï¼ˆä½†å†…éƒ¨å¯ä»¥é€šè¿‡ `this.f()` æ¥è°ƒç”¨ï¼Œ`f`æ˜¯å‡½æ•°åï¼‰ã€‚
    // pure: çº¯çº¯ç‰›é©¬, åŸºæœ¬ä¸Šå’Œåˆçº¦æ²¡æœ‰ä¸€æ¯›é’±å…³ç³», ä»»ä½•ä¸€ä¸ªåˆçº¦æŠŠè¿™ä¸ªä»£ç æ”¾è¿›å»éƒ½èƒ½ç”¨ã€‚
    function addPure(
        uint256 _number
    ) external pure returns (uint256 new_number) {
        new_number = _number + 1;
    }

    // external: åªèƒ½ä»åˆçº¦å¤–éƒ¨è®¿é—®ï¼ˆä½†å†…éƒ¨å¯ä»¥é€šè¿‡ `this.f()` æ¥è°ƒç”¨ï¼Œ`f`æ˜¯å‡½æ•°åï¼‰ã€‚
    // view: çœ‹å®¢
    function addView() external view returns (uint256 new_number) {
        new_number = number + 1;
    }

    // internal: å†…éƒ¨å‡½æ•°, åªèƒ½è¢«åˆçº¦å†…éƒ¨è°ƒç”¨
    function minus() internal {
        number = number - 1;
    }

    // external: åªèƒ½ä»åˆçº¦å¤–éƒ¨è®¿é—®ï¼ˆä½†å†…éƒ¨å¯ä»¥é€šè¿‡ `this.f()` æ¥è°ƒç”¨ï¼Œ`f`æ˜¯å‡½æ•°åï¼‰ã€‚
    // åˆçº¦å†…çš„å‡½æ•°å¯ä»¥è°ƒç”¨å†…éƒ¨å‡½æ•°
    function minusCall() external {
        minus();
    }

    // external: åªèƒ½ä»åˆçº¦å¤–éƒ¨è®¿é—®ï¼ˆä½†å†…éƒ¨å¯ä»¥é€šè¿‡ `this.f()` æ¥è°ƒç”¨ï¼Œ`f`æ˜¯å‡½æ•°åï¼‰ã€‚
    // payable: é€’é’±ï¼Œèƒ½ç»™åˆçº¦æ”¯ä»˜ethçš„å‡½æ•°
    function minusPayable() external payable returns (uint256 balance) {
        balance = address(this).balance;
    }
}
```

## éƒ¨ç½²è°ƒè¯•åˆçº¦

ä¿®æ”¹ `.env` ä¸­

```
# éƒ¨ç½²çš„åˆçº¦åç§°
DEPLOY_CONTRACT_NAME=FunctionTypes
```

ç¼–å†™è°ƒè¯•é€»è¾‘ `scripts\deploy.ts`:

```js
import { ethers } from "hardhat";
import dotenv from "dotenv";

// åŠ è½½ç¯å¢ƒå˜é‡
dotenv.config();

// éœ€è¦éƒ¨ç½²çš„åˆçº¦åç§°
const contractName: string = process.env.DEPLOY_CONTRACT_NAME!;

// è°ƒç”¨åˆçº¦æ–¹æ³•
async function exec(contract: any) {
    console.log("è·å–åˆçº¦å˜é‡:");
    console.log("  number:", await contract.number());

    console.log("\nè°ƒç”¨ add() å‡½æ•°,ç»™ number åŠ  1 :");
    await contract.add();
    console.log("  number:", await contract.number());

    console.log("\nè°ƒç”¨ addPure() å‡½æ•°, ä¸æ”¹å˜åˆçº¦ number çŠ¶æ€:");
    const newNumberPure = await contract.addPure(10);
    console.log("  newNumberPure:", newNumberPure);
    console.log("  number:", await contract.number());

    console.log("\nè°ƒç”¨ addView() å‡½æ•°,åªè¯»ä¸ä¿®æ”¹ number æœ¬èº«:");
    const newNumberView = await contract.addView();
    console.log("  newNumberView:", newNumberView);
    console.log("  number:", await contract.number()); // æ³¨æ„: addView() ä¸ä¿®æ”¹ number

    console.log("\nè°ƒç”¨ minusCall() å‡½æ•°, å†…éƒ¨å¯¹ number - 1:");
    await contract.minusCall();
    console.log("  number:", await contract.number());

    console.log("\nè°ƒç”¨ minusPayable() å‡½æ•°,å¹¶è½¬è´¦ 100eth åˆ°åˆçº¦è´¦æˆ·:");
    const balanceAfterPayable = await contract.minusPayable({ value: ethers.parseEther('100') });
    console.log("  balance:", balanceAfterPayable.value);
    console.log("  number:", await contract.number());
}

// å®šä¹‰ä¸€ä¸ªå¼‚æ­¥å‡½æ•° mainï¼Œç”¨äºéƒ¨ç½²åˆçº¦ã€‚
async function main() {
    console.log("_________________________å¯åŠ¨éƒ¨ç½²________________________________");
    const [deployer] = await ethers.getSigners();
    console.log("éƒ¨ç½²åœ°å€:", deployer.address);

    // è·å–è´¦æˆ·çš„ä½™é¢
    const balance = await deployer.provider.getBalance(deployer.address);
    // å°†ä½™é¢è½¬æ¢ä¸ºä»¥å¤ªå¸ (ETH)
    console.log("è´¦æˆ·ä½™é¢ balance(wei):", balance.toString());
    const balanceInEther = ethers.formatEther(balance);
    console.log("è´¦æˆ·ä½™é¢ balance(eth):", balanceInEther);

    console.log("_________________________éƒ¨ç½²åˆçº¦________________________________");
    // è·å–åˆçº¦å·¥å‚ã€‚
    const contractFactory = await ethers.getContractFactory(contractName);
    // éƒ¨ç½²åˆçº¦
    const contract = await contractFactory.deploy();
    //  ç­‰å¾…éƒ¨ç½²å®Œæˆ
    await contract.waitForDeployment()
    console.log(`åˆçº¦åœ°å€: ${contract.target}`);

    console.log("_________________________åˆçº¦è°ƒç”¨________________________________");
    await exec(contract);
}

// æ‰§è¡Œ main å‡½æ•°ï¼Œå¹¶å¤„ç†å¯èƒ½å‘ç”Ÿçš„é”™è¯¯ã€‚
main()
    .then(() => process.exit(0)) // å¦‚æœéƒ¨ç½²æˆåŠŸï¼Œåˆ™é€€å‡ºè¿›ç¨‹ã€‚
    .catch(error => {
        console.error(error); // å¦‚æœå‘ç”Ÿé”™è¯¯ï¼Œåˆ™è¾“å‡ºé”™è¯¯ä¿¡æ¯ã€‚
        process.exit(1); // é€€å‡ºè¿›ç¨‹ï¼Œå¹¶è¿”å›é”™è¯¯ä»£ç  1ã€‚
    });
```

éƒ¨ç½²è°ƒè¯•:

```sh
$ yarn hardhat run scripts/deploy.ts
yarn run v1.22.22
$ E:\solidity-demo\3.å‡½æ•°å…¥å‚åŠå…¶å¯è§æ€§\node_modules\.bin\hardhat run scripts/deploy.ts
Compiled 1 Solidity file successfully (evm target: paris).
_________________________å¯åŠ¨éƒ¨ç½²________________________________
éƒ¨ç½²åœ°å€: 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266
è´¦æˆ·ä½™é¢ balance(wei): 10000000000000000000000
è´¦æˆ·ä½™é¢ balance(eth): 10000.0
_________________________éƒ¨ç½²åˆçº¦________________________________
åˆçº¦åœ°å€: 0x5FbDB2315678afecb367f032d93F642f64180aa3
_________________________åˆçº¦è°ƒç”¨________________________________
è·å–åˆçº¦å˜é‡:
  number: 5n

è°ƒç”¨ add() å‡½æ•°,ç»™ number åŠ  1 :
  number: 6n

è°ƒç”¨ addPure() å‡½æ•°, ä¸æ”¹å˜åˆçº¦ number çŠ¶æ€:
  newNumberPure: 11n
  number: 6n

è°ƒç”¨ addView() å‡½æ•°,åªè¯»ä¸ä¿®æ”¹ number æœ¬èº«:
  newNumberView: 7n
  number: 6n

è°ƒç”¨ minusCall() å‡½æ•°, å†…éƒ¨å¯¹ number - 1:
  number: 5n

è°ƒç”¨ minusPayable() å‡½æ•°,å¹¶è½¬è´¦ 100eth åˆ°åˆçº¦è´¦æˆ·:
  balance: 100000000000000000000n
  number: 5n
Done in 3.21s.
```

## æ€»ç»“

åœ¨è¿™ä¸€è®²ï¼Œæˆ‘ä»¬ä»‹ç»äº† `Solidity` ä¸­çš„å‡½æ•°ã€‚`pure` å’Œ `view` å…³é”®å­—æ¯”è¾ƒéš¾ç†è§£ï¼Œåœ¨å…¶ä»–è¯­è¨€ä¸­æ²¡å‡ºç°è¿‡ï¼š

- `view` å‡½æ•°å¯ä»¥è¯»å–çŠ¶æ€å˜é‡ï¼Œä½†ä¸èƒ½æ”¹å†™ï¼›
- `pure` å‡½æ•°æ—¢ä¸èƒ½è¯»å–ä¹Ÿä¸èƒ½æ”¹å†™çŠ¶æ€å˜é‡ã€‚